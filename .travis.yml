# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

sudo: required

services:
  - docker

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-rabbitmq-client

# travis encrypt -r bootique/bootique-rabbitmq-client "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-rabbitmq-client "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "qTF6PwmHwbV1sG0B6VmGV6dCb/61frjCQmtWUvN0I0S5t8LWSO8l1KILmYMUl2rf+uPL7c8pXAs5G6eB5/bnBqlBLHgVeqHQmsa1JDAmNyxUoYOouwJc8CwsAfRWd+goULBUYCinaFheBohCVJCfYw9EqZF9jE2rJL1kKwIfJROSSY8xyuAM5GZILpR4KZMtklxHn1y41fBcEWqkfxgP8etvriNwG2lZwE7RsRQlVeY2C6Av4/NDAm22ApVRP+BZ6McmPO9whmmBBuxs6+nLAaR1ZxJ5eeHC4QZhvCbWepl0eycM9nLUElxSJYe+8/Sb0uO08gWcqnynGfB9tmICYsQSF9d0Z/03Tk5JDdv0v1sAE73ssKQ8757AbIXGpKrrBanP85JBXG1bpaWrCpzkfwGtJvycv7XL6PI9f9U46FN069Y3SOKJmtRAx8UG5zyd/M74jMhXN1kM6zwwnl+vQMCVE3Xd7lCa03PwKLkwdn/qUgomNii22QdyRb+icC4JRU8+OyNTcCNNLxxEjkHkyLhE/xwk2E3RuuBQmfm6VnReK/sJ5dMk9ROjNZNbifwxIDVk5lsUpEITQN4fPprzPalqoRiuWXwgwZ5hp3fAcaOhAmJQDtYDc+VkztZYVpwWbWfq8FlJM4LAd68gB0P/kD6AX2K23WCldHXOSUPy1/g="
    - secure: "Jx789oitXdOHHHEp8reEk/nog8f+QdelpS4tyYZjDhFGyOcw3FeH2qCaxVl2OTGfkDL7jUaeiMlGYHMHQfJl8YK1yqxrXn2r1usPVD6BHrtbJoFbHOCPwoe6hBANU5mrJZ3GIndZTaP1CmCaBraBCvocH6xbXh8JNhTnwcdJpUKYYilKPuy7w1+C0OkLvFgrJCJYgq/RhAgYWeKtYtk4tPNtPRbWgZlQ+LipvP8WJlA92sLMXp3LBLL09tYNLTZVWYBXGDQInKxdcO80fhEz62y+v9oNFXVY+luZnGlBKfGT62mlOoj6lrIJ5H8n+hCqB5SCPcjRuRgR6JdYqtdv4vlN5h8RfbzUc/mTwbbALkCyjbp/YHN+EkOTtVK9p/sXjYO2r5JKCOKxHuTHnVzYaNfkFg3pODm5dZU6dFAK/pdqw2C3UKJ///5+838MOBdf5BvJ4t8SqtuN031qesIiRkJGlqqtrnoYOx3FfkX1wasaBdxX0t+Y4beRPKKG4D1nFhthLXDdCQq3pxEYG0PnE5TIj0+C0P+rnKIqcqOodzXy8nrBYlHxLzEtw5iOKpWYYY1WfsrvbnjjAmKgT6kPc1hZMA4tiR9235fI4Jj99uwE8v4mwfqMykvTDUsVbJ1yewxvGV4kTPLLTBVyvMQDo9jAKqXEN/WJ2UbqvTb55d0="
